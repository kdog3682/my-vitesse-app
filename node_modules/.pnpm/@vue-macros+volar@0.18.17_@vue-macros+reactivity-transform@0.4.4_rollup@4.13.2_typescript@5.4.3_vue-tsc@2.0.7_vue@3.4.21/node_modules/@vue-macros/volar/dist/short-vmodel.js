// src/short-vmodel.ts
var import_short_vmodel = require("@vue-macros/short-vmodel");

// src/common.ts
var import_language_core = require("@vue/language-core");
function getVolarOptions(vueCompilerOptions) {
  return vueCompilerOptions.vueMacros;
}

// src/short-vmodel.ts
var plugin = ({ vueCompilerOptions }) => {
  return {
    name: "vue-macros-short-vmodel",
    version: 1,
    resolveTemplateCompilerOptions(options) {
      const volarOptions = getVolarOptions(vueCompilerOptions);
      options.nodeTransforms ||= [];
      options.nodeTransforms.push(
        (0, import_short_vmodel.transformShortVmodel)({
          prefix: volarOptions?.shortVmodel?.prefix || "$"
        })
      );
      return options;
    }
  };
};
module.exports = plugin;
